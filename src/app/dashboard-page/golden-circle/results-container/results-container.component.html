<div id="results" class="dashboard-background">
  <admin-navbar />
  <section class="container-fluid">
    <p-breadcrumb [model]="items">
      <ng-template pTemplate="item" let-item>
        <ng-container *ngIf="item.route; else elseBlock">
          <a [routerLink]="item.route" class="p-menuitem-link">
            <span [ngClass]="[item.icon ? item.icon : '', 'text-color']"></span>
            <span class="text-primary font-semibold">{{ item.label }}</span>
          </a>
        </ng-container>
        <ng-template #elseBlock>
          <a [href]="item.url">
            <span class="text-color">{{ item.label }}</span>
          </a>
        </ng-template>
      </ng-template>
    </p-breadcrumb>
    <div class="row my-3">
      <!-- Add *ngIf with reloadKey to force reload -->
      <div *ngIf="reloadKey" class="mb-3 col-sm-12 col-md-5">
        <p-card>
          <p-chart type="polarArea" [data]="data" [options]="options"></p-chart>
        </p-card>
      </div>
      <div *ngIf="!reloadKey" class="mb-3 col-sm-12 col-md-5">
        <p-card>
          <p-chart type="polarArea" [data]="data" [options]="options"></p-chart>
        </p-card>
      </div>
      <div class="col-sm-12 col-md-7">
        <p-accordion [activeIndex]="0">
          <p-accordionTab [header]="section.title" *ngFor="let section of values" styleClass="text-decoration: none;">
            <p class="text-format">
              <strong>Percepcion: </strong>
              {{section.perception}}
            </p>
            <p>
              <strong>Valor: </strong>
              <p-badge [value]="section.value" [severity]="section.severity" />
            </p>
          </p-accordionTab>
        </p-accordion>
        <p-divider/>
        <p-panel header="Recomendación">
          <p>
            Establece Objetivos Claros: Define metas específicas y alcanzables para abordar las áreas problemáticas. Por
            ejemplo, si la comunicación interna es un problema, un objetivo podría ser mejorar la frecuencia y claridad
            de las actualizaciones.
          </p>
        </p-panel>
      </div>
    </div>
  </section>
  <admin-footer id="footer" />
</div>